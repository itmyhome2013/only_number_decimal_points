<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>只能输入数字和小数点</title>
	
    <meta name="keywords" content="itmyhome,Java,JS,JQuery,Web,Oracle,Git,GitHub,Jekyll,Bootstrap">
	<meta name="description" content="麦田技术博客 - itmyhome">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" style="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" style="text/css" href="css/sticky-footer-navbar.css">
    <script type="text/javascript" src="js/jquery-1.8.0.min.js"></script>
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->

  </head>
  
  <body>
    <div align="center">
			</br>
			</br>
			</br>
			</br>
			</br>
			</br>
			</br>
			</br>
			
			<div class="form-inline">
				<input type="text" class="form-control" style="width: 200px;" value=""  placeholder="请输入数字" onkeyup="onlyNumber(this)" onblur="onlyNumber(this)"/> 	
			</div>
			
		</div>
		<footer class="footer">
	      <div class="container">
	        <p class="text-muted" align="center">©2017 <a href="http://itmyhome.com" target="_blank">麦田技术博客</a></p>
	      </div>
	    </footer>
  </body>
<script type="text/javascript">

function onlyNumber(obj) {
	//得到第一个字符是否为负号
	var t = obj.value.charAt(0);
	//先把非数字的都替换掉，除了数字和. 
	obj.value = obj.value.replace(/[^\d\.]/g, '');
	//必须保证第一个为数字而不是. 
	obj.value = obj.value.replace(/^\./g, '');
	//保证只有出现一个.而没有多个. 
	obj.value = obj.value.replace(/\.{2,}/g, '.');
	//保证.只出现一次，而不能出现两次以上 
	obj.value = obj.value.replace('.', '$#$').replace(/\./g, '').replace(
			'$#$', '.');
	//如果第一位是负号，则允许添加
	if (t == '-') {
		obj.value = '-' + obj.value;
	}
}
	
</script>
</html>
